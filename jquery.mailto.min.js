$.fn.mailto=function(a){a=$.extend({},{host:false,prepend:false},a);$(this).each(function(){var c=$(this);var e=function(){var f,g="";g=a.host;if(!g){g=c.attr("data-host")?c.attr("data-host"):window.location.hostname.replace("www.","")}if(c.attr("data-account")){return c.attr("data-account")+"@"+g}else{var h=c.text();c.contents().filter(function(){return this.nodeType!=1}).remove();return h.replace(" at ","@").split(" dot ").join(".")}return f};var b=e();if(a.prepend){c.prepend(b+" ")}else{c.append(" "+b)}if(c.is("a")){var d="mailto:"+b;if(c.attr("data-subject")){d+="?subject="+encodeURIComponent(c.attr("data-subject"))}c.attr("href",d)}})};